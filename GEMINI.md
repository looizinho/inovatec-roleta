# GEMINI Project Context: inovatec-roleta

## Project Overview

This project is an interactive installation controlled by physical sensors. It appears to be a "roleta" (roulette wheel) or a similar interactive game. The system consists of three main components:

1.  **Hardware (Arduino)**: An Arduino Uno board is responsible for reading inputs from 7 physical sensors.
2.  **Python Backend**: A Python script with a Tkinter GUI acts as a bridge. It reads serial data from the Arduino and translates it into keyboard presses.
3.  **TouchDesigner Frontend**: A TouchDesigner file (`TouchDesigner.toe`) likely contains the visual and interactive part of the installation, which is controlled by the keyboard presses sent by the Python script.

The workflow is as follows: Sensor Trigger -> Arduino sends Serial Message -> Python script reads message -> Python script simulates Key Press -> TouchDesigner reacts to Key Press.

## Components

### 1. Hardware (`sensores/`)

*   **Controller**: Arduino Uno
*   **Firmware**: The C++ code is located in `sensores/src/main.cpp`.
*   **Project Environment**: The project is managed using [PlatformIO](https://platformio.org/). The configuration is in `sensores/platformio.ini`.
*   **Functionality**: The Arduino monitors 7 digital input pins (2-8). When a sensor is triggered (detecting a LOW to HIGH signal), it sends a corresponding message like `sensor1`, `sensor2`, etc., over the serial connection at a baud rate of 115200.

### 2. Python Backend (`main.py`)

*   **Framework**: A simple GUI is built using `tkinter`.
*   **Dependencies**: `pyserial`, `pyautogui`.
*   **Functionality**:
    *   Connects to a specified serial port (hardcoded as `COM3`, which may need to be changed depending on the OS and connection).
    *   Listens for incoming serial data from the Arduino.
    *   When it receives a message like `"sensor1"`, it simulates a press of the corresponding numeric key (`"1"`, `"2"`, etc.) using `pyautogui`.
    *   Provides a simple UI to connect/disconnect from the serial port and view logs.
    *   Includes an "Auto Test" feature to simulate key presses without needing the Arduino, useful for testing the TouchDesigner part independently.

### 3. TouchDesigner Frontend (`TouchDesigner.toe`)

*   This is the visual component of the project.
*   It is designed to be controlled by the numeric key presses (1-7) generated by the `main.py` script. The interaction within TouchDesigner is likely configured to respond to these specific keyboard inputs to drive the "roleta" animation or logic.

## Building and Running

### 1. Hardware (Arduino)

1.  **Prerequisites**: Install [PlatformIO CLI](https://platformio.org/install/cli).
2.  **Navigate to the directory**: `cd sensores`
3.  **Build and Upload**: Connect the Arduino Uno via USB and run the following command. PlatformIO will automatically download the necessary toolchains and libraries.
    ```bash
    # Build the project
    pio run

    # Upload the firmware to the Arduino
    pio run --target upload
    ```

### 2. Python Backend

1.  **Prerequisites**: Have Python 3 installed.
2.  **Install Dependencies**:
    ```bash
    pip install pyserial pyautogui
    ```
3.  **Configure Serial Port**: Open `main.py` and change the `PORTA_SERIAL` variable from `"COM3"` to the correct serial port for your system (e.g., `/dev/tty.usbmodemXXXX` on macOS, `/dev/ttyACM0` on Linux).
4.  **Run the script**:
    ```bash
    python main.py
    ```
5.  Click the "Conectar" button in the application window to start listening to the Arduino.

### 3. TouchDesigner

1.  **Prerequisites**: Install [TouchDesigner](https://derivative.ca/download).
2.  **Open the Project**: Open the `TouchDesigner.toe` file.
3.  Ensure the TouchDesigner project is in focus for it to receive the keyboard presses simulated by the Python script.

## Development Conventions

*   The project is clearly modular, with a clean separation between the hardware interface (`sensores`), the control logic (`main.py`), and the visual presentation (`TouchDesigner.toe`).
*   The communication protocol between the Arduino and Python is a simple, human-readable string format over serial.
*   The Python script includes a basic GUI for operational control and logging, which is helpful for debugging.
